var u=Object.defineProperty;var v=Object.getOwnPropertyDescriptor;var b=Object.getOwnPropertyNames;var l=Object.prototype.hasOwnProperty;var a=(n,e)=>{for(var o in e)u(n,o,{get:e[o],enumerable:!0})},x=(n,e,o,t)=>{if(e&&typeof e=="object"||typeof e=="function")for(let s of b(e))!l.call(n,s)&&s!==o&&u(n,s,{get:()=>e[s],enumerable:!(t=v(e,s))||t.enumerable});return n};var T=n=>x(u({},"__esModule",{value:!0}),n);var O={};a(O,{onAppend:()=>d,onEntry:()=>w,onRemove:()=>h});module.exports=T(O);var y={childList:!0,subtree:!0},i=new WeakMap,c=new WeakMap,r=new WeakMap;function d(n,e){if(i.has(n)){i.get(n).push(e);return}i.set(n,[e]);let o=new MutationObserver(t=>{if(document.contains(n)){o.disconnect();let s=i.get(n);s&&s.forEach(f=>f(n)),i.delete(n)}});o.observe(document,y)}function h(n,e){if(c.has(n)){c.get(n).push(e);return}c.set(n,[e]),d(n,()=>{let o=new MutationObserver(()=>{if(!document.contains(n)){o.disconnect();let t=c.get(n);t&&t.forEach(s=>s(n)),c.delete(n)}});o.observe(document,y)})}var w=(n,e,{minHeight:o="50px",root:t}={})=>{if(r.has(n)){r.get(n).push(e);return}r.set(n,[e]),d(n,()=>{if(n.style.minHeight||(n.style.minHeight=o),!n.getAttribute("data-lazy")){n.setAttribute("data-lazy","1");let s=new IntersectionObserver(f=>{f.forEach(p=>{if(n.setAttribute("data-lazy","2"),p.isIntersecting){s.disconnect();let m=r.get(n);m&&m.forEach(E=>E(p)),r.delete(n)}})},{root:t,rootMargin:window.innerHeight/2+"px"});s.observe(n),h(n,()=>{s.disconnect()})}})};
